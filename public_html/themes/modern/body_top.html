<{math assign=mainGrid equation="9+(1-L)*(1-R)*3" L=$xoops_showlblock R=$xoops_showrblock}>
<div id="ContentWrapper" class="row">
<div id="MainColumn" class="span<{$mainGrid}>">
<{if $xoops_contents}>
  <div id="Content" class="<{$xoops_dirname}>">
  <{$xoops_contents}>
  </div>
<{/if}>
<{include file="`$smarty.const.XOOPS_THEME_PATH`/`$xoops_theme`/center.html"}>
</div><!-- MainColumn -->
<{if $xoops_showlblock==1||$xoops_showrblock==1}>
<div class="sideColumn span3">
<{if $xoops_showlblock == 1}>
  <aside id="LeftSide">
    <dl>
    <{foreach item=block from=$xoops_lblocks}>
      <{if substr($block.title,-4) != "none"}>
      <dt class="blockTitle"><{$block.title}></dt>
      <{/if}>
      <dd class="blockContent"><{$block.content}></dd>
    <{/foreach}>
    </dl>
  </aside><!-- LeftSide -->
<{/if}>

<{if $xoops_showrblock == 1}>
  <aside id="RightSide">
    <dl>
    <{foreach item=block from=$xoops_rblocks}>
      <{if substr($block.title,-4) != "none"}>
      <dt class="blockTitle"><{$block.title}></dt>
      <{/if}>
      <dd class="blockContent"><{$block.content}></dd>
    <{/foreach}>
    </dl>
  </aside><!-- RightSide -->
<{/if}>
</div><!-- SideColumn -->
<{/if}>
</div><!-- ContentWrapper -->
